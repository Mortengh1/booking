{"ast":null,"code":"var _jsxFileName = \"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/src/pages/ResSignup.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect } from \"react\";\nimport imgPlaceholder from \"../images/placeholder.png\";\nimport axios from \"../api/axios\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIGNUP_URL = \"https://skole.mortengh.dk/PHP/resSignup.php\";\nconst ResSignup = () => {\n  _s();\n  const userRef = useRef();\n  const errRef = useRef();\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [postnr, setPostnr] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [mail, setMail] = useState(\"\");\n  const [capacity, setCapacity] = useState(\"\");\n  const [phonenr, setPhonenr] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [errMsg, setErrMsg] = useState(\"\");\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n  useEffect(() => {\n    setErrMsg(\"\");\n  }, [name, address, mail, capacity, phonenr, image]);\n  function handleImageChange(event) {\n    const file = event.target.files[0];\n    if (file.size < 500000) {\n      const reader = new FileReader();\n      reader.onload = event => {\n        setImage(event.target.result);\n      };\n      reader.readAsDataURL(file);\n      setErrMsg(\"\");\n    } else {\n      setErrMsg(\"Billedet er for stort\");\n    }\n  }\n  const handleSubmit = async e => {\n    e.preventDefault();\n    axios.post(SIGNUP_URL, JSON.stringify({\n      resName: name,\n      resAddress: address,\n      mail,\n      capacity,\n      phonenr,\n      image\n    })).then(result => {\n      console.log(result.data);\n      if (result.data.status == \"invalid\") {\n        setErrMsg(result.data.errorMessage);\n      } else {\n        setName(\"\");\n        setAddress(\"\");\n        setMail(\"\");\n        setCapacity(\"\");\n        setPhonenr(\"\");\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"createRestaurantContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"restaurantForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Opret Restaurant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          ref: errRef,\n          className: errMsg ? \"ErrorMessage\" : \"offScreen\",\n          \"aria-live\": \"assertive\",\n          children: errMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Restaurant navn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            ref: userRef,\n            onChange: e => setName(e.currentTarget.value),\n            value: name,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"address\",\n            children: \"Adresse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"address\",\n            ref: userRef,\n            onChange: e => setAddress(e.currentTarget.value),\n            value: address,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mail\",\n            children: \"Mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"mail\",\n            ref: userRef,\n            onChange: e => setMail(e.currentTarget.value),\n            value: mail,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"capacity\",\n            children: \"Kapacitet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"capacity\",\n            ref: userRef,\n            onChange: e => setCapacity(e.currentTarget.value),\n            value: capacity,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phonenr\",\n            children: \"Tlf. nr.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            id: \"phonenr\",\n            ref: userRef,\n            onChange: e => setPhonenr(e.currentTarget.value),\n            value: phonenr,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"image\",\n            children: \"Billede\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            className: \"file-input\",\n            accept: \"image/*\",\n            onChange: handleImageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"image-preview\",\n            src: image,\n            alt: \"choose\",\n            onError: event => event.target.src = imgPlaceholder\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Opret\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(ResSignup, \"fbmmF2STaoq4/SQ20Cp+eFOkq60=\");\n_c = ResSignup;\nexport default ResSignup;\nvar _c;\n$RefreshReg$(_c, \"ResSignup\");","map":{"version":3,"names":["useRef","useState","useEffect","imgPlaceholder","axios","useNavigate","useLocation","SIGNUP_URL","ResSignup","userRef","errRef","name","setName","address","setAddress","postnr","setPostnr","city","setCity","mail","setMail","capacity","setCapacity","phonenr","setPhonenr","image","setImage","errMsg","setErrMsg","current","focus","handleImageChange","event","file","target","files","size","reader","FileReader","onload","result","readAsDataURL","handleSubmit","e","preventDefault","post","JSON","stringify","resName","resAddress","then","console","log","data","status","errorMessage","currentTarget","value","src"],"sources":["/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/src/pages/ResSignup.js"],"sourcesContent":["import { useRef, useState, useEffect } from \"react\";\nimport imgPlaceholder from \"../images/placeholder.png\";\n\nimport axios from \"../api/axios\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nconst SIGNUP_URL = \"https://skole.mortengh.dk/PHP/resSignup.php\";\n\nconst ResSignup = () => {\n  const userRef = useRef();\n  const errRef = useRef();\n\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [postnr, setPostnr] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [mail, setMail] = useState(\"\");\n  const [capacity, setCapacity] = useState(\"\");\n  const [phonenr, setPhonenr] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [errMsg, setErrMsg] = useState(\"\");\n\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n\n  useEffect(() => {\n    setErrMsg(\"\");\n  }, [name, address, mail, capacity, phonenr, image]);\n\n  function handleImageChange(event) {\n    const file = event.target.files[0];\n    if (file.size < 500000) {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        setImage(event.target.result);\n      };\n      reader.readAsDataURL(file);\n      setErrMsg(\"\");\n    } else {\n      setErrMsg(\"Billedet er for stort\");\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    axios\n      .post(\n        SIGNUP_URL,\n        JSON.stringify({\n          resName: name,\n          resAddress: address,\n          mail,\n          capacity,\n          phonenr,\n          image,\n        })\n      )\n      .then((result) => {\n        console.log(result.data);\n        if (result.data.status == \"invalid\") {\n          setErrMsg(result.data.errorMessage);\n        } else {\n          setName(\"\");\n          setAddress(\"\");\n          setMail(\"\");\n          setCapacity(\"\");\n          setPhonenr(\"\");\n        }\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"createRestaurantContainer\">\n        <div className=\"restaurantForm\">\n          <h1>Opret Restaurant</h1>\n          <p\n            ref={errRef}\n            className={errMsg ? \"ErrorMessage\" : \"offScreen\"}\n            aria-live=\"assertive\"\n          >\n            {errMsg}\n          </p>\n\n          <form onSubmit={handleSubmit}>\n            <label htmlFor=\"name\">Restaurant navn</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              ref={userRef}\n              onChange={(e) => setName(e.currentTarget.value)}\n              value={name}\n              required\n            ></input>\n            <label htmlFor=\"address\">Adresse</label>\n            <input\n              type=\"text\"\n              id=\"address\"\n              ref={userRef}\n              onChange={(e) => setAddress(e.currentTarget.value)}\n              value={address}\n              required\n            ></input>\n            <label htmlFor=\"mail\">Mail</label>\n            <input\n              type=\"email\"\n              id=\"mail\"\n              ref={userRef}\n              onChange={(e) => setMail(e.currentTarget.value)}\n              value={mail}\n              required\n            ></input>\n            <label htmlFor=\"capacity\">Kapacitet</label>\n            <input\n              type=\"number\"\n              id=\"capacity\"\n              ref={userRef}\n              onChange={(e) => setCapacity(e.currentTarget.value)}\n              value={capacity}\n              required\n            ></input>\n            <label htmlFor=\"phonenr\">Tlf. nr.</label>\n            <input\n              type=\"tel\"\n              id=\"phonenr\"\n              ref={userRef}\n              onChange={(e) => setPhonenr(e.currentTarget.value)}\n              value={phonenr}\n              required\n            ></input>\n            <label htmlFor=\"image\">Billede</label>\n            <input\n              type=\"file\"\n              className=\"file-input\"\n              accept=\"image/*\"\n              onChange={handleImageChange}\n            />\n            <img\n              className=\"image-preview\"\n              src={image}\n              alt=\"choose\"\n              onError={(event) => (event.target.src = imgPlaceholder)}\n            />\n            <button>Opret</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default ResSignup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}