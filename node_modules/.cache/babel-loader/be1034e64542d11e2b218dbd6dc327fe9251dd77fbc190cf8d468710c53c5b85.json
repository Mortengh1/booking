{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import BookingCard from\"../components/BookingCard\";import{jsx as _jsx}from\"react/jsx-runtime\";var Bookings=function Bookings(){var userId=localStorage.getItem(\"userId\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bookings=_useState2[0],setBookings=_useState2[1];useEffect(function(){function getBookings(){return _getBookings.apply(this,arguments);}function _getBookings(){_getBookings=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,data,bookingsArray;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://skole.mortengh.dk/PHP/userBookings.php?userId=\".concat(userId);_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;bookingsArray=Object.keys(data).map(function(key){return _objectSpread({key:key},data[key]);});// from object to array\nsetBookings(bookingsArray);case 9:case\"end\":return _context.stop();}}},_callee);}));return _getBookings.apply(this,arguments);}getBookings();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"BookingGrid\",children:bookings.map(function(booking){return/*#__PURE__*/_jsx(BookingCard,{booking:booking},booking.key);})});};export default Bookings;","map":{"version":3,"names":["useEffect","useState","BookingCard","Bookings","userId","localStorage","getItem","bookings","setBookings","getBookings","url","fetch","response","json","data","bookingsArray","Object","keys","map","key","booking"],"sources":["/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/src/pages/Bookings.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport BookingCard from \"../components/BookingCard\";\n\nconst Bookings = () => {\n  const userId = localStorage.getItem(\"userId\");\n  const [bookings, setBookings] = useState([]);\n  useEffect(() => {\n    async function getBookings() {\n      const url = `https://skole.mortengh.dk/PHP/userBookings.php?userId=${userId}`;\n      const response = await fetch(url);\n      const data = await response.json();\n      const bookingsArray = Object.keys(data).map((key) => ({\n        key: key,\n        ...data[key],\n      })); // from object to array\n      setBookings(bookingsArray);\n    }\n    getBookings();\n  }, []);\n\n    return(\n      <div className=\"BookingGrid\">\n      {bookings.map((booking) => {\n        return <BookingCard booking={booking} key={booking.key} />;\n      })}\n    </div> \n    )\n  };\n  \n  export default Bookings;"],"mappings":"ulBAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,YAAW,KAAM,2BAA2B,CAAC,2CAEpD,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAMC,OAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,cAAgCL,QAAQ,CAAC,EAAE,CAAC,wCAArCM,QAAQ,eAAEC,WAAW,eAC5BR,SAAS,CAAC,UAAM,SACCS,YAAW,6IAA1B,yKACQC,GAAG,iEAA4DN,MAAM,wBACpDO,MAAK,CAACD,GAAG,CAAC,QAA3BE,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACJC,aAAa,CAAGC,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,GAAG,CAAC,SAACC,GAAG,wBAC9CA,GAAG,CAAEA,GAAG,EACLL,IAAI,CAACK,GAAG,CAAC,GACZ,CAAC,CAAE;AACLX,WAAW,CAACO,aAAa,CAAC,CAAC,sDAC5B,8CACDN,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEJ,mBACE,YAAK,SAAS,CAAC,aAAa,UAC3BF,QAAQ,CAACW,GAAG,CAAC,SAACE,OAAO,CAAK,CACzB,mBAAO,KAAC,WAAW,EAAC,OAAO,CAAEA,OAAQ,EAAMA,OAAO,CAACD,GAAG,CAAI,CAC5D,CAAC,CAAC,EACE,CAER,CAAC,CAED,cAAehB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}