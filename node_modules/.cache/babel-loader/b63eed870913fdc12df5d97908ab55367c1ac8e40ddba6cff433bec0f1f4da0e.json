{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useRef,useState,useEffect}from\"react\";import axios from\"../api/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(){var userId=localStorage.getItem(\"userId\");var USERS_URL=\"https://skole.mortengh.dk/PHP/users.php\";var UPDATE_USERS_URL=\"https://skole.mortengh.dk/PHP/updateUser.php\";var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],setAge=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),mail=_useState8[0],setMail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),phoneNr=_useState10[0],setPhoneNr=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),errMsg=_useState12[0],setErrMsg=_useState12[1];var errRef=useRef();useEffect(function(){axios.post(USERS_URL,JSON.stringify({userId:userId})).then(function(result){setFirstName(result.data.firstname);setLastName(result.data.lastname);setAge(result.data.age);setMail(result.data.mail);setPhoneNr(result.data.phonenr);});},[]);var handleChangeFirstName=function handleChangeFirstName(e){setFirstName(e.target.value);};var handleChangeLastName=function handleChangeLastName(e){setLastName(e.target.value);};var handleChangeAge=function handleChangeAge(e){setAge(e.target.value);};var handleChangePhoneNr=function handleChangePhoneNr(e){setPhoneNr(e.target.value);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();axios.post(UPDATE_USERS_URL,JSON.stringify({firstName:firstName,lastName:lastName,age:age,phoneNr:phoneNr,userId:userId})).then(function(result){console.log(result.data);if(result.data.status==\"invalid\"){setErrMsg(result.data.errorMessage);}else{}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"ProfileContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileForm\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Din profil\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"p\",{ref:errRef,className:errMsg?\"ErrorMessage\":\"offScreen\",\"aria-live\":\"assertive\",children:errMsg}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Fornavn:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"firstName\",type:\"text\",value:firstName,onChange:function onChange(event){return handleChangeFirstName(event);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Efternavn:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"lastName\",type:\"text\",value:lastName,onChange:function onChange(event){return handleChangeLastName(event);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",children:\"Alder:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"age\",type:\"text\",value:age,onChange:function onChange(event){return handleChangeAge(event);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mail\",children:\"E-mail:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"mail\",type:\"text\",value:mail,disabled:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phoneNr\",children:\"Tlf. Nr.:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"phoneNr\",type:\"text\",value:phoneNr,onChange:function onChange(event){return handleChangePhoneNr(event);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Opdater\"})]})]})})});};export default Profile;","map":{"version":3,"names":["React","useRef","useState","useEffect","axios","Profile","userId","localStorage","getItem","USERS_URL","UPDATE_USERS_URL","firstName","setFirstName","lastName","setLastName","age","setAge","mail","setMail","phoneNr","setPhoneNr","errMsg","setErrMsg","errRef","post","JSON","stringify","then","result","data","firstname","lastname","phonenr","handleChangeFirstName","e","target","value","handleChangeLastName","handleChangeAge","handleChangePhoneNr","handleSubmit","preventDefault","console","log","status","errorMessage","event"],"sources":["/Users/mortengedstedhansen/Documents/Skole/Eksamen 1/booking/src/pages/Profile.js"],"sourcesContent":["import { React, useRef, useState, useEffect } from \"react\";\nimport axios from \"../api/axios\";\n\nconst Profile = () => {\n  const userId = localStorage.getItem(\"userId\");\n  const USERS_URL = \"https://skole.mortengh.dk/PHP/users.php\";\n  const UPDATE_USERS_URL = \"https://skole.mortengh.dk/PHP/updateUser.php\";\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [mail, setMail] = useState(\"\");\n  const [phoneNr, setPhoneNr] = useState(\"\");\n  const [errMsg, setErrMsg] = useState(\"\");\n  const errRef = useRef();\n  useEffect(() => {\n    axios.post(USERS_URL, JSON.stringify({ userId })).then((result) => {\n      setFirstName(result.data.firstname);\n      setLastName(result.data.lastname);\n      setAge(result.data.age);\n      setMail(result.data.mail);\n      setPhoneNr(result.data.phonenr);\n    });\n  }, []);\n\n  const handleChangeFirstName = (e) => {\n    setFirstName(e.target.value);\n  };\n  const handleChangeLastName = (e) => {\n    setLastName(e.target.value);\n  };\n  const handleChangeAge = (e) => {\n    setAge(e.target.value);\n  };\n  const handleChangePhoneNr = (e) => {\n    setPhoneNr(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    axios\n      .post(\n        UPDATE_USERS_URL,\n        JSON.stringify({ firstName, lastName, age, phoneNr, userId })\n      )\n      .then((result) => {\n        console.log(result.data);\n        if (result.data.status == \"invalid\") {\n          setErrMsg(result.data.errorMessage);\n        } else {\n        }\n      });\n  };\n\n  return (\n    <>\n      <div className=\"ProfileContainer\">\n        <div className=\"ProfileForm\">\n          <h1>Din profil</h1>\n          <form onSubmit={handleSubmit}>\n            <p\n              ref={errRef}\n              className={errMsg ? \"ErrorMessage\" : \"offScreen\"}\n              aria-live=\"assertive\"\n            >\n              {errMsg}\n            </p>\n            <label htmlFor=\"firstName\">Fornavn:</label>\n            <input\n              name=\"firstName\"\n              type=\"text\"\n              value={firstName}\n              onChange={(event) => handleChangeFirstName(event)}\n            />\n            <label htmlFor=\"lastName\">Efternavn:</label>\n            <input\n              name=\"lastName\"\n              type=\"text\"\n              value={lastName}\n              onChange={(event) => handleChangeLastName(event)}\n            />\n            <label htmlFor=\"age\">Alder:</label>\n            <input\n              name=\"age\"\n              type=\"text\"\n              value={age}\n              onChange={(event) => handleChangeAge(event)}\n            />\n            <label htmlFor=\"mail\">E-mail:</label>\n            <input name=\"mail\" type=\"text\" value={mail} disabled />\n            <label htmlFor=\"phoneNr\">Tlf. Nr.:</label>\n            <input\n              name=\"phoneNr\"\n              type=\"text\"\n              value={phoneNr}\n              onChange={(event) => handleChangePhoneNr(event)}\n            />\n            <button className=\"btn\">Opdater</button>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}